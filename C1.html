<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="C1.css">
<title>WDCT</title>
</head>
<body>
    <div class="navbar">
        <a href="#" onclick="window.location.reload();"><h3>Prallax<h3></a>
        <a href="#">Services</a>
        <a href="#">Contacts</a>
        <a href="#">Settings</a>
        <a href="#">About</a>
    </div>
    <div class="content" id="content">
        <h1>The Quick way to find something better</h1>
        <h3>Please choose the way you want to search</h3>
        <div class="btn-container" id="btn-container">
            <button class="btn" onclick="showSearchBar(this)">Search Bar</button>
            <button class="btn" onclick="openDropdown()">Genre</button>
        </div>
        <div class="search-container" id="search-container">
            <input type="text" class="search-input" placeholder="Enter a Movie or Web series">
            <button class="search-btn" onclick="searchMovie()">Search</button>
        </div>
        <div class="dropdown" id="dropdown">
            <select>
                <option value="action">Action</option>
                <option value="adventure">Adventure</option>
                <option value="comedy">Comedy</option>
                <option value="drama">Drama</option>
                <option value="fantasy">Fantasy</option>
                <option value="horror">Horror</option>
                <option value="mystery">Mystery</option>
                <option value="sci-fi">Sci-Fi</option>
                <option value="thriller">Thriller</option>
            </select>
            <button class="dropdown-btn" onclick="searchGenre()">Search</button>
        </div>
    </div>
    <div class="footer">
        <h3>"Copyright Â© [2024] [Parallax] All rights reserved."</h3>
    </div>
    <script>
        
        function showSearchBar(btn) {
            document.getElementById("search-container").style.display = "flex";
            document.getElementById("btn-container").style.display = "none";
        }

        function openDropdown() {
            document.getElementById("dropdown").style.display = "flex";
            document.querySelector('.dropdown-btn').style.display = 'flex';
            document.getElementById("btn-container").style.display = "none";
        }

        function showMovieDetails(movieData) {
            const contentDiv = document.getElementById("content");
            contentDiv.innerHTML = `
                <h1>${movieData.Title}</h1>
                <h3>Director: ${movieData.Director}</h3>
                <p>Release Date: ${movieData.Released}</p>
                <p>Plot: ${movieData.Plot}</p>
                <p>Rating: ${movieData.imdbRating}</p>
                <p>Cast: ${movieData.Actors}</p>
            `;
        }

        function showMoviesByGenre(movieData) {
            const contentDiv = document.getElementById("content");
            let moviesHTML = '<div class="movies-container">';
            movieData.Search.forEach(movie => {
                moviesHTML += `
                    <div class="movie">
                        <img src="${movie.Poster}" alt="${movie.Title}">
                        <h3>${movie.Title}</h3>
                    </div>
                `;
            });
            moviesHTML += '</div>';
            contentDiv.innerHTML = moviesHTML;
        }

        function searchMovie() {
            const searchTerm = document.querySelector('.search-input').value;
            const omdbApiKey = '72b882da'; // Replace this with your OMDB API key
            const omdbUrl = `http://www.omdbapi.com/?apikey=${omdbApiKey}&t=${searchTerm}`;
    
            // Make an AJAX request to OMDB API
            fetch(omdbUrl)
                .then(response => response.json())
                .then(data => {
                    // Check if the response has an error
                    if (data.Response === "False") {
                        alert(data.Error);
                    } else {
                        // Display movie details
                        showMovieDetails(data);
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    alert('Error fetching data. Please try again.');
                });
        }
        function searchGenre() {
            const selectedGenre = document.querySelector('.dropdown select').value;
            const omdbApiKey = '72b882da'; // Replace this with your OMDB API key
            const omdbUrl = `http://www.omdbapi.com/?apikey=${omdbApiKey}&type=movie&s=${selectedGenre}&page=1&limit=15`;
    
            // Make an AJAX request to OMDB API
            fetch(omdbUrl)
                .then(response => response.json())
                .then(data => {
                    // Check if the response has an error
                    if (data.Response === "False") {
                        alert(data.Error);
                    } else {
                        // Display movies by genre
                        showMoviesByGenre(data);
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    alert('Error fetching data. Please try again.');
                });
        }
    </script>
</body>
</html>
